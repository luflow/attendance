{"version":3,"file":"Calendar-DT9LkGD1.chunk.mjs","sources":["../node_modules/vue-material-design-icons/Check.vue","../src/utils/datetime.js","../node_modules/vue-material-design-icons/Calendar.vue"],"sourcesContent":["<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon check-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"CheckIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","/**\n * Centralized datetime utilities for the Attendance app.\n * Consolidates all date/time formatting and conversion functions.\n */\n\nimport { fromZonedTime } from 'date-fns-tz'\n\n/**\n * Get the user's timezone from browser or default to Europe/Berlin.\n * @return {string} The timezone string\n */\nexport function getUserTimezone() {\n\ttry {\n\t\treturn Intl.DateTimeFormat().resolvedOptions().timeZone || 'Europe/Berlin'\n\t} catch {\n\t\treturn 'Europe/Berlin'\n\t}\n}\n\n/**\n * Format a datetime for display.\n * Uses localized format with short date and time.\n *\n * @param {string|Date} datetime - The datetime to format\n * @param {object} options - Formatting options\n * @param {string} options.locale - Locale string (default: browser locale)\n * @param {string} options.dateStyle - Date style: 'short', 'medium', 'long' (default: 'short')\n * @param {string} options.timeStyle - Time style: 'short', 'medium', 'long' (default: 'short')\n * @return {string} Formatted datetime string\n */\nexport function formatDateTime(datetime, options = {}) {\n\tif (!datetime) return ''\n\n\ttry {\n\t\tconst date = datetime instanceof Date ? datetime : new Date(datetime)\n\t\tif (isNaN(date.getTime())) return ''\n\n\t\tconst locales = options.locale ? [options.locale] : ['de-DE', 'en-EN']\n\t\tconst formatOptions = {\n\t\t\tdateStyle: options.dateStyle || 'short',\n\t\t\ttimeStyle: options.timeStyle || 'short',\n\t\t}\n\n\t\treturn date.toLocaleString(locales, formatOptions)\n\t} catch {\n\t\treturn String(datetime)\n\t}\n}\n\n/**\n * Format a datetime for display with medium date style.\n *\n * @param {string|Date} datetime - The datetime to format\n * @return {string} Formatted datetime string\n */\nexport function formatDateTimeMedium(datetime) {\n\treturn formatDateTime(datetime, { dateStyle: 'medium', timeStyle: 'short' })\n}\n\n/**\n * Format a datetime for HTML datetime-local input.\n * Returns format: YYYY-MM-DDTHH:MM\n *\n * @param {string|Date} datetime - The datetime to format\n * @return {string} Formatted string for datetime-local input\n */\nexport function formatDateTimeForInput(datetime) {\n\tif (!datetime) return ''\n\n\ttry {\n\t\tconst date = datetime instanceof Date ? datetime : new Date(datetime)\n\t\tif (isNaN(date.getTime())) return ''\n\n\t\tconst year = date.getFullYear()\n\t\tconst month = String(date.getMonth() + 1).padStart(2, '0')\n\t\tconst day = String(date.getDate()).padStart(2, '0')\n\t\tconst hours = String(date.getHours()).padStart(2, '0')\n\t\tconst minutes = String(date.getMinutes()).padStart(2, '0')\n\n\t\treturn `${year}-${month}-${day}T${hours}:${minutes}`\n\t} catch {\n\t\treturn ''\n\t}\n}\n\n/**\n * Parse a datetime-local input value to a Date object.\n *\n * @param {string} inputValue - The value from datetime-local input\n * @return {Date|null} Parsed Date or null if invalid\n */\nexport function parseDateTimeInput(inputValue) {\n\tif (!inputValue) return null\n\n\ttry {\n\t\tconst date = new Date(inputValue)\n\t\treturn isNaN(date.getTime()) ? null : date\n\t} catch {\n\t\treturn null\n\t}\n}\n\n/**\n * Convert a local datetime to server timezone for API submission.\n *\n * @param {string|Date} datetime - The local datetime\n * @param {string} timezone - Target timezone (default: Europe/Berlin for server)\n * @return {Date} Date object adjusted for server timezone\n */\nexport function toServerTimezone(datetime, timezone = 'Europe/Berlin') {\n\tif (!datetime) return null\n\n\ttry {\n\t\tconst localDate = datetime instanceof Date ? datetime : new Date(datetime)\n\t\tif (isNaN(localDate.getTime())) return null\n\n\t\treturn fromZonedTime(localDate, timezone)\n\t} catch {\n\t\treturn null\n\t}\n}\n\n/**\n * Format a date for display (date only, no time).\n *\n * @param {string|Date} datetime - The datetime to format\n * @param {string} style - Date style: 'short', 'medium', 'long' (default: 'medium')\n * @return {string} Formatted date string\n */\nexport function formatDate(datetime, style = 'medium') {\n\tif (!datetime) return ''\n\n\ttry {\n\t\tconst date = datetime instanceof Date ? datetime : new Date(datetime)\n\t\tif (isNaN(date.getTime())) return ''\n\n\t\treturn date.toLocaleDateString(['de-DE', 'en-EN'], { dateStyle: style })\n\t} catch {\n\t\treturn String(datetime)\n\t}\n}\n\n/**\n * Format a time for display (time only, no date).\n *\n * @param {string|Date} datetime - The datetime to format\n * @param {string} style - Time style: 'short', 'medium', 'long' (default: 'short')\n * @return {string} Formatted time string\n */\nexport function formatTime(datetime, style = 'short') {\n\tif (!datetime) return ''\n\n\ttry {\n\t\tconst date = datetime instanceof Date ? datetime : new Date(datetime)\n\t\tif (isNaN(date.getTime())) return ''\n\n\t\treturn date.toLocaleTimeString(['de-DE', 'en-EN'], { timeStyle: style })\n\t} catch {\n\t\treturn String(datetime)\n\t}\n}\n\n/**\n * Check if a datetime is in the past.\n *\n * @param {string|Date} datetime - The datetime to check\n * @return {boolean} True if datetime is in the past\n */\nexport function isPast(datetime) {\n\tif (!datetime) return false\n\n\ttry {\n\t\tconst date = datetime instanceof Date ? datetime : new Date(datetime)\n\t\treturn date < new Date()\n\t} catch {\n\t\treturn false\n\t}\n}\n\n/**\n * Check if a datetime is in the future.\n *\n * @param {string|Date} datetime - The datetime to check\n * @return {boolean} True if datetime is in the future\n */\nexport function isFuture(datetime) {\n\tif (!datetime) return false\n\n\ttry {\n\t\tconst date = datetime instanceof Date ? datetime : new Date(datetime)\n\t\treturn date > new Date()\n\t} catch {\n\t\treturn false\n\t}\n}\n\n/**\n * Check if check-in is allowed (30 minutes before start time).\n *\n * @param {string|Date} startDatetime - The appointment start time\n * @param {number} minutesBefore - Minutes before start to allow check-in (default: 30)\n * @return {boolean} True if check-in is allowed\n */\nexport function canCheckinNow(startDatetime, minutesBefore = 30) {\n\tif (!startDatetime) return false\n\n\ttry {\n\t\tconst startTime = startDatetime instanceof Date ? startDatetime : new Date(startDatetime)\n\t\tconst checkinTime = new Date(startTime.getTime() - minutesBefore * 60 * 1000)\n\t\treturn new Date() >= checkinTime\n\t} catch {\n\t\treturn false\n\t}\n}\n\n/**\n * Add hours to a datetime.\n *\n * @param {string|Date} datetime - The base datetime\n * @param {number} hours - Hours to add\n * @return {Date|null} New Date with hours added\n */\nexport function addHours(datetime, hours) {\n\tif (!datetime) return null\n\n\ttry {\n\t\tconst date = datetime instanceof Date ? datetime : new Date(datetime)\n\t\tif (isNaN(date.getTime())) return null\n\n\t\treturn new Date(date.getTime() + hours * 60 * 60 * 1000)\n\t} catch {\n\t\treturn null\n\t}\n}\n\n/**\n * Format a date range compactly.\n * If same day: \"Jan 7, 2026, 10:00 – 11:00\"\n * If different days: \"Jan 7, 2026 10:00 – Jan 8, 2026 11:00\"\n *\n * @param {string|Date} startDatetime - The start datetime\n * @param {string|Date} endDatetime - The end datetime\n * @return {string} Formatted date range string\n */\nexport function formatDateRange(startDatetime, endDatetime) {\n\tif (!startDatetime) return ''\n\tif (!endDatetime) return formatDateTime(startDatetime)\n\n\ttry {\n\t\tconst start = startDatetime instanceof Date ? startDatetime : new Date(startDatetime)\n\t\tconst end = endDatetime instanceof Date ? endDatetime : new Date(endDatetime)\n\n\t\tif (isNaN(start.getTime()) || isNaN(end.getTime())) {\n\t\t\treturn formatDateTime(startDatetime)\n\t\t}\n\n\t\t// Check if same day (compare year, month, day)\n\t\tconst sameDay = start.getFullYear() === end.getFullYear()\n\t\t\t&& start.getMonth() === end.getMonth()\n\t\t\t&& start.getDate() === end.getDate()\n\n\t\tif (sameDay) {\n\t\t\t// Same day: \"Jan 7, 2026, 10:00 – 11:00\"\n\t\t\treturn `${formatDate(start)}, ${formatTime(start)} – ${formatTime(end)}`\n\t\t} else {\n\t\t\t// Different days: \"Jan 7, 2026 10:00 – Jan 8, 2026 11:00\"\n\t\t\treturn `${formatDateTime(start)} – ${formatDateTime(end)}`\n\t\t}\n\t} catch {\n\t\treturn formatDateTime(startDatetime)\n\t}\n}\n","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon calendar-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"CalendarIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>"],"names":["_sfc_main","_hoisted_3","_createElementBlock","_mergeProps","_ctx","$props","_cache","$event","_createElementVNode","_openBlock","formatDateTime","datetime","options","date","locales","formatOptions","formatDateTimeMedium","formatDate","style","formatTime","canCheckinNow","startDatetime","minutesBefore","startTime","checkinTime","formatDateRange","endDatetime","start","end"],"mappings":"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","x_google_ignoreList":[0,2]}