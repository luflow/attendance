{"version":3,"file":"NcDialog-BY-1v8yi-C4-QLhBD.chunk.mjs","sources":["../node_modules/@nextcloud/vue/dist/chunks/NcDialog-BY-1v8yi.mjs"],"sourcesContent":["import '../assets/NcDialog-D3fAX1Fs.css';\nimport { defineComponent, mergeModels, useModel, useSlots, useTemplateRef, computed, ref, createBlock, createCommentVNode, openBlock, unref, mergeProps, withCtx, createElementVNode, toDisplayString, resolveDynamicComponent, toHandlers, normalizeClass, createElementBlock, renderSlot, Fragment, renderList } from \"vue\";\nimport { useElementSize } from \"@vueuse/core\";\nimport { c as createElementId } from \"./createElementId-DhjFt1I9.mjs\";\nimport { _ as _sfc_main$1 } from \"./NcDialogButton.vue_vue_type_script_setup_true_lang-CF6LnBe7.mjs\";\nimport { N as NcModal } from \"./NcModal-DZtBQM1y.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nconst _hoisted_1 = [\"id\", \"textContent\"];\nconst _hoisted_2 = [\"aria-label\", \"aria-labelledby\"];\nconst _hoisted_3 = { class: \"dialog__text\" };\nconst _hoisted_4 = { class: \"dialog__actions\" };\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"NcDialog\",\n  props: /* @__PURE__ */ mergeModels({\n    name: {},\n    message: { default: \"\" },\n    additionalTrapElements: { default: () => [] },\n    container: { default: \"body\" },\n    size: { default: \"small\" },\n    buttons: { default: () => [] },\n    isForm: { type: Boolean },\n    noClose: { type: Boolean },\n    closeOnClickOutside: { type: Boolean },\n    outTransition: { type: Boolean },\n    navigationAriaLabel: { default: \"\" },\n    navigationAriaLabelledby: { default: \"\" },\n    contentClasses: { default: \"\" },\n    dialogClasses: { default: \"\" },\n    navigationClasses: { default: \"\" }\n  }, {\n    \"open\": { type: Boolean, ...{ default: true } },\n    \"openModifiers\": {}\n  }),\n  emits: /* @__PURE__ */ mergeModels([\"closing\", \"reset\", \"submit\"], [\"update:open\"]),\n  setup(__props, { emit: __emit }) {\n    const open = useModel(__props, \"open\");\n    const props = __props;\n    const emit = __emit;\n    const slots = useSlots();\n    const wrapperElement = useTemplateRef(\"wrapper\");\n    const { width: dialogWidth } = useElementSize(wrapperElement, { width: 900, height: 0 });\n    const isNavigationCollapsed = computed(() => dialogWidth.value < 876);\n    const hasNavigation = computed(() => slots?.navigation !== void 0);\n    const navigationId = createElementId();\n    const navigationAriaLabelAttr = computed(() => props.navigationAriaLabel || void 0);\n    const navigationAriaLabelledbyAttr = computed(() => {\n      if (props.navigationAriaLabel) {\n        return void 0;\n      }\n      return props.navigationAriaLabelledby || navigationId;\n    });\n    const dialogRootElement = useTemplateRef(\"dialogElement\");\n    const dialogTagName = computed(() => props.isForm && !hasNavigation.value ? \"form\" : \"div\");\n    const dialogListeners = computed(() => {\n      if (dialogTagName.value !== \"form\") {\n        return {};\n      }\n      return {\n        /**\n         * @param event - Form submit event\n         */\n        submit(event) {\n          event.preventDefault();\n          emit(\"submit\", event);\n        },\n        /**\n         * @param event - Form submit event\n         */\n        reset(event) {\n          event.preventDefault();\n          emit(\"reset\", event);\n        }\n      };\n    });\n    const showModal = ref(true);\n    function handleButtonClose(button, result) {\n      if (button.type === \"submit\" && dialogTagName.value === \"form\" && \"reportValidity\" in dialogRootElement.value && !dialogRootElement.value.reportValidity()) {\n        return;\n      }\n      handleClosing(result);\n      window.setTimeout(() => handleClosed(), 300);\n    }\n    function handleClosing(result) {\n      showModal.value = false;\n      emit(\"closing\", result);\n    }\n    function handleClosed() {\n      showModal.value = true;\n      open.value = false;\n    }\n    const modalProps = computed(() => ({\n      noClose: props.noClose,\n      container: props.container === void 0 ? \"body\" : props.container,\n      // we do not pass the name as we already have the name as the headline\n      // name: props.name,\n      // But we need to set the correct label id so the dialog is labelled\n      labelId: navigationId,\n      size: props.size,\n      show: open.value && showModal.value,\n      outTransition: props.outTransition,\n      closeOnClickOutside: props.closeOnClickOutside,\n      additionalTrapElements: props.additionalTrapElements\n    }));\n    return (_ctx, _cache) => {\n      return open.value ? (openBlock(), createBlock(unref(NcModal), mergeProps({\n        key: 0,\n        class: \"dialog__modal\",\n        \"enable-slideshow\": false,\n        \"disable-swipe\": \"\"\n      }, modalProps.value, {\n        onClose: handleClosed,\n        \"onUpdate:show\": _cache[0] || (_cache[0] = ($event) => handleClosing())\n      }), {\n        default: withCtx(() => [\n          createElementVNode(\"h2\", {\n            id: unref(navigationId),\n            class: \"dialog__name\",\n            textContent: toDisplayString(_ctx.name)\n          }, null, 8, _hoisted_1),\n          (openBlock(), createBlock(resolveDynamicComponent(dialogTagName.value), mergeProps({\n            ref: \"dialogElement\",\n            class: [\"dialog\", _ctx.dialogClasses]\n          }, toHandlers(dialogListeners.value)), {\n            default: withCtx(() => [\n              createElementVNode(\"div\", {\n                ref: \"wrapper\",\n                class: normalizeClass([\"dialog__wrapper\", [{ \"dialog__wrapper--collapsed\": isNavigationCollapsed.value }]])\n              }, [\n                hasNavigation.value ? (openBlock(), createElementBlock(\"nav\", {\n                  key: 0,\n                  class: normalizeClass([\"dialog__navigation\", _ctx.navigationClasses]),\n                  \"aria-label\": navigationAriaLabelAttr.value,\n                  \"aria-labelledby\": navigationAriaLabelledbyAttr.value\n                }, [\n                  renderSlot(_ctx.$slots, \"navigation\", { isCollapsed: isNavigationCollapsed.value }, void 0, true)\n                ], 10, _hoisted_2)) : createCommentVNode(\"\", true),\n                createElementVNode(\"div\", {\n                  class: normalizeClass([\"dialog__content\", _ctx.contentClasses])\n                }, [\n                  renderSlot(_ctx.$slots, \"default\", {}, () => [\n                    createElementVNode(\"p\", _hoisted_3, toDisplayString(_ctx.message), 1)\n                  ], true)\n                ], 2)\n              ], 2),\n              createElementVNode(\"div\", _hoisted_4, [\n                renderSlot(_ctx.$slots, \"actions\", {}, () => [\n                  (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.buttons, (button, idx) => {\n                    return openBlock(), createBlock(unref(_sfc_main$1), mergeProps({ key: idx }, { ref_for: true }, button, {\n                      onClick: (_, result) => handleButtonClose(button, result)\n                    }), null, 16, [\"onClick\"]);\n                  }), 128))\n                ], true)\n              ])\n            ]),\n            _: 3\n          }, 16, [\"class\"]))\n        ]),\n        _: 3\n      }, 16)) : createCommentVNode(\"\", true);\n    };\n  }\n});\nconst NcDialog = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-ca0b8eba\"]]);\nexport {\n  NcDialog as N\n};\n//# sourceMappingURL=NcDialog-BY-1v8yi.mjs.map\n"],"names":["_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_sfc_main","defineComponent","mergeModels","__props","__emit","open","useModel","props","emit","slots","useSlots","wrapperElement","useTemplateRef","dialogWidth","useElementSize","isNavigationCollapsed","computed","hasNavigation","navigationId","createElementId","navigationAriaLabelAttr","navigationAriaLabelledbyAttr","dialogRootElement","dialogTagName","dialogListeners","event","showModal","ref","handleButtonClose","button","result","handleClosing","handleClosed","modalProps","_ctx","_cache","openBlock","createBlock","unref","NcModal","mergeProps","$event","withCtx","createElementVNode","toDisplayString","resolveDynamicComponent","toHandlers","normalizeClass","createElementBlock","renderSlot","createCommentVNode","Fragment","renderList","idx","_sfc_main$1","_","NcDialog","_export_sfc"],"mappings":"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","x_google_ignoreList":[0]}