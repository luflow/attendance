{"version":3,"file":"response-qwsgigBs.chunk.mjs","sources":["../src/utils/response.js"],"sourcesContent":["/**\n * Centralized response utilities for the Attendance app.\n * Consolidates response-related helper functions and constants.\n */\n\n/**\n * Valid response values.\n */\nexport const RESPONSES = {\n\tYES: 'yes',\n\tNO: 'no',\n\tMAYBE: 'maybe',\n}\n\n/**\n * Response variant mapping for UI components.\n */\nexport const RESPONSE_VARIANTS = {\n\tyes: 'success',\n\tno: 'error',\n\tmaybe: 'warning',\n}\n\n/**\n * Get the display text for a response value.\n * Uses the translation function if available.\n *\n * @param {string} response - The response value (yes, no, maybe)\n * @return {string} The translated display text\n */\nexport function getResponseText(response) {\n\tconst t = window.t || ((app, text) => text)\n\n\tconst texts = {\n\t\tyes: t('attendance', 'Yes'),\n\t\tno: t('attendance', 'No'),\n\t\tmaybe: t('attendance', 'Maybe'),\n\t}\n\n\treturn texts[response] || response\n}\n\n/**\n * Get the UI variant for a response value.\n * Used for NcButton and NcChip variant props.\n *\n * @param {string} response - The response value (yes, no, maybe)\n * @return {string} The variant (success, error, warning, tertiary)\n */\nexport function getResponseVariant(response) {\n\treturn RESPONSE_VARIANTS[response] || 'tertiary'\n}\n\n/**\n * Check if a response value is valid.\n *\n * @param {string} response - The response value to check\n * @return {boolean} True if valid\n */\nexport function isValidResponse(response) {\n\treturn Object.values(RESPONSES).includes(response)\n}\n\n/**\n * Get the icon name for a response value.\n * For use with Material Design Icons.\n *\n * @param {string} response - The response value (yes, no, maybe)\n * @return {string} The icon name\n */\nexport function getResponseIcon(response) {\n\tconst icons = {\n\t\tyes: 'CheckCircle',\n\t\tno: 'CloseCircle',\n\t\tmaybe: 'HelpCircle',\n\t}\n\n\treturn icons[response] || 'ProgressQuestion'\n}\n\n/**\n * Calculate response summary counts from a list of responses.\n *\n * @param {Array} responses - Array of response objects with 'response' property\n * @return {object} Summary with yes, no, maybe, and total counts\n */\nexport function calculateResponseCounts(responses) {\n\tconst counts = {\n\t\tyes: 0,\n\t\tno: 0,\n\t\tmaybe: 0,\n\t\ttotal: 0,\n\t}\n\n\tfor (const item of responses) {\n\t\tconst response = item.response || item\n\t\tif (counts[response] !== undefined) {\n\t\t\tcounts[response]++\n\t\t\tcounts.total++\n\t\t}\n\t}\n\n\treturn counts\n}\n\n/**\n * Sort responses by response type (yes first, then maybe, then no).\n *\n * @param {Array} responses - Array of response objects\n * @param {string} responseKey - Key to use for response value (default: 'response')\n * @return {Array} Sorted array\n */\nexport function sortResponsesByType(responses, responseKey = 'response') {\n\tconst order = { yes: 0, maybe: 1, no: 2 }\n\n\treturn [...responses].sort((a, b) => {\n\t\tconst orderA = order[a[responseKey]] ?? 3\n\t\tconst orderB = order[b[responseKey]] ?? 3\n\t\treturn orderA - orderB\n\t})\n}\n\n/**\n * Filter responses by response type.\n *\n * @param {Array} responses - Array of response objects\n * @param {string} type - Response type to filter by (yes, no, maybe)\n * @param {string} responseKey - Key to use for response value (default: 'response')\n * @return {Array} Filtered array\n */\nexport function filterResponsesByType(responses, type, responseKey = 'response') {\n\treturn responses.filter(r => r[responseKey] === type)\n}\n\n/**\n * Check if an appointment has a user response.\n *\n * @param {object} appointment - The appointment object\n * @return {boolean} True if user has responded\n */\nexport function hasUserResponse(appointment) {\n\treturn appointment?.userResponse?.response != null\n}\n\n/**\n * Get the user's response from an appointment.\n *\n * @param {object} appointment - The appointment object\n * @return {string|null} The response value or null\n */\nexport function getUserResponse(appointment) {\n\treturn appointment?.userResponse?.response || null\n}\n\n/**\n * Get the user's comment from an appointment.\n *\n * @param {object} appointment - The appointment object\n * @return {string} The comment or empty string\n */\nexport function getUserComment(appointment) {\n\treturn appointment?.userResponse?.comment || ''\n}\n"],"names":["RESPONSE_VARIANTS","getResponseText","response","t","app","text","getResponseVariant"],"mappings":"MAiBaA,EAAoB,CAChC,IAAK,UACL,GAAI,QACJ,MAAO,SACR,EASO,SAASC,EAAgBC,EAAU,CACzC,MAAMC,EAAI,OAAO,IAAM,CAACC,EAAKC,IAASA,GAQtC,MANc,CACb,IAAKF,EAAE,aAAc,KAAK,EAC1B,GAAIA,EAAE,aAAc,IAAI,EACxB,MAAOA,EAAE,aAAc,OAAO,CAChC,EAEcD,CAAQ,GAAKA,CAC3B,CASO,SAASI,EAAmBJ,EAAU,CAC5C,OAAOF,EAAkBE,CAAQ,GAAK,UACvC"}